<!DOCTYPE html>
<html>
  <head>
    <title>Tekstredigering - biblioteksløyd 2016-03-17</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="assets/styles.css">
  </head>
  <body>
    <textarea id="source">

class: center, middle, inverse

# Tekstredigering
Biblioteksløyd 2016-03-17

.footnote[Slides: https://scriptotek.github.io/2016-03-17-BS/slides/1.2-text.html]

---

# Lett tastaturgym som oppvarming

- Tastaturet gjør deg mer effektiv, bruk det der du kan<br>
  <small>(dvs. de fleste steder bortsett fra Alma)</small>

- Bruk søk for å starte programmer eller åpne dokumenter:
  - Windows: Windows-tasten + begynn å skrive navnet + Enter
  - Mac: Kommando-mellomrom (eller last ned Alfred)

- (Ja, la oss åpne Sublime Text)

---

# Lett tastaturgym som oppvarming

- Vis skrivebord: `Win-D`, åpne filutforsker: `Win-E`, lukk vindu: `Alt-F4`,
      bytt mellom programmer: `Alt-Tab`, skrive ut: `Ctrl-P`
- Redigering:
    - Klippe ut/kopiere/lime inn tekst: `Ctrl-X`, `Ctrl-C`, `Ctrl-V`
    - Angre: `Ctrl-Z` (utfør likevel: `Ctrl-Y`)
    - Lagre: `Ctrl-S`

- Eksempel: Sende en epost med Outlook: `Ctrl-N`, mottaker…, `Tab` x 3, emne..., `Tab`, tekst, ... `Ctrl+Enter`.

---

# Ren tekst / plain text

Operasjonell definisjon:

- Alt som kan leses i Notepad / Sublime Text / Atom / *din favoritteditor*.
- *Krever* med andre ord ikke spesialprogrammer for å jobbe med.

---

# Ren tekst er din venn

- Låser deg ikke til ett bestemt program (lock in)

- Du kan åpne 30 år gamle tekstfiler i dag,
  og du kan åpne filene du lager i dag om 30 år.<br>
  <span style="font-size:80%">
  (gitt at du fremdeles lever, er et fritt menneske, ikke lever i en postapokalyptisk verden, osv.)
  </span>

|                  | Lite egnet | Egnet | Meget godt egnet |
|------------------|------------|-------|------------------|
| Utveksling       |            |       | ⚫                |
| Versjonskontroll |            |       | ⚫                |
| *Store* datasett | ⚫          |       |                  |


???

* Utmerket for utveksling
* Utmerket for versjonskontroll (hvorfor?) <!-- bl.a. fordi de ikke krever spesialprogrammer -->

---

# Ren tekst / plain text

Hvordan «ren»? *Ren tekst* er ikke *formatert tekst*.
  - Men med *markeringsspråk* som f.eks. HTML og Markdown
    kan du *markere* formatering ved hjelp av språkets *syntaks*. Eksempel:

|                | HTML                                                             | Markdown                       |
|----------------|------------------------------------------------------------------|--------------------------------|
| *Vektlagt tekst*<br><small>(emphasized / kursiv)</small>  | `<em>Kursiv tekst</em>`<br><small>(i gamle dager: `<i>Kursiv tekst</i>`)</small> | `**Kursiv tekst**`                |
| **Sterkt vektlagt tekst**<br><small>(strongly emphasized / fet)</small> | `<strong>Fet tekst</strong>`<br><small>(i gamle dager: `<b>Fet tekst</b>`)</small> | `**Fet tekst**`                |

---

# Ren tekst / plain text

Eksempler på filformater:

* Data:
    * CSV for tabelldata (ála Excel)
    * RIS for bibliografier <!-- Men EndNotes interne format .enl er binært -->
    * JSON / XML for generelle data.
    * MARC(?)
* Dokumenter:
    * Markdown for ‘enkle’ artikler, dokumentasjon etc. (ála Word)
    * LaTeX for vitenskapelige artikler med mye matematiske uttrykk
    * HTML for nettsider
* Kode / kildekode


---

# Tegnsett/-koding

<div style="float:right; width:50%; margin-left:20px; border:1px solid #888; ">
  <img src="assets/UnicodeGrow2b.png" alt="Unicode growth" style="width:100%;">
  <div style="padding: 6px; background:white; font-size: 60%;">
    Ill.: User:Krauss on
    <a href="https://commons.wikimedia.org/wiki/File:UnicodeGrow2b.png">Wikimedia Commons</a>.
    I mars 2016 brukes UTF-8 på > 85 % av alle nettsider.
  </div>
</div>


- Tekstfiler er alltid lagret med et bestemt tegnsett.
- Som regel trenger du ikke forholde deg til det, men kommer du i situasjoner der du må velge: velg UTF-8.<br>
  <small>(I UTF-8 opptar hvert tegn 1-4 byte (8 bit) avhengig av hvilke tegn det er: a-z opptar f.eks. 1 byte, mens æøå opptar 2 byte hver).</small>

???

Med tekstfiler mener jeg "ren tekst-filer"

---

# Tegnsett/-koding

- Sublime Text lagrer (i likhet med de fleste andre programmer i dag) UTF-8 som standard.
- Oppgave: Lag en ny tekstfil som inneholder æøå, lagre, velg "reopen with encoding"
  og velg et feil tegnsett, dvs. hva som helst annet enn UTF-8.
  Resultatet blir det vi kaller *mojibake* (fra japansk 文字化け) eller på norsk: *tegnsalat*.
  - Som her: http://turl.no/14hu

---

# Tegnsett/-koding

- Spørsmål: Hvordan ser jeg hvilket tegnsett en fil har i Sublime Text?
  - Kunsten å google: http://lmgtfy.com/?q=sublime+text+show+encoding

???

Her kommer vi faktisk innom JSON allerede!
Svar nummer 2..

---

# Tegnsett/-koding

- Spørsmål: Hvordan ser jeg hvilket tegnsett en fil har i Sublime Text?
  - Kunsten å google: http://lmgtfy.com/?q=sublime+text+show+encoding
  - Spørsmål: Hvilket format er konfigurasjonsfilen?

???

Mens vi er her kan vi også sette font-size opp til 12px.

---

# Linjeendelser

* CRLF (Windows)
* LF (Linux/Mac).

Programmer som Sublime Text klarer å skjønne begge deler, mens Notepad ikke gjør det (vise eksempel).
Vanligvis trenger du derfor ikke tenke på dette, men verdt å vite om at dette kan skape problemer i noen sammenhenger. F.eks. for versjonskontroll.. Husker du fra installasjonen av Git..?

---
class: center header-left

# Tekstredigeringsprogram

![Learning curves](assets/editor-learning-curve.png "Learning curves")

???

Både Vim og Emacs har røtter tilbake til midten av 70-tallet.
Fremdeles populære. Svært konfigurerbare og utbyggbare, men man bruker også mye tid på å konfigurere dem...

---

# Tekstredigeringsprogram

* Det finnes en drøss: https://en.wikipedia.org/wiki/List_of_text_editors
* Sublime Text og Atom er to gode programmer som ligner mye på hverandre.
  * Begge er enkle å komme i gang med, men kan i stor grad utvides og tilpasses etterhvert som man lærer.
  * Hvilken skal man velge? Ikke godt å si, prøv begge.


---

# Oppgave: Utforske et API

  - Du har nettopp oppdaget Worldcat xISBN – et API for å slå opp ISBN-numre og hente ut
    andre utgaver av samme verk + grunnleggende metadata. Du finner dokumentasjonen for API-et
    på http://xisbn.worldcat.org/xisbnadmin/doc/api.htm
  - Prøv det første eksempelet: "to request all editions of 0596002815 [Learning Python]"
  - Prøv å slå opp en annen bok, f.eks. 9781430218333
      - Hvis vi skulle brukt API-et i et script ville vi latt isbn-nummeret være en *variabel*.
        Verdien kunne vi hentet fra f.eks. et tekstfelt der brukeren fyller det inn
        (slik jeg gjør på https://labs.biblionaut.net/lille_hjelper/)
        Eller vi kunne f.eks. hatt en liste med isbn-numre som vi lot scriptet slå opp, én for én.
  - Kopier responsdokumentet (teksten altså) over i et nytt dokument i Sublime Text.
  - Legg merke til at Sublime skjønner at dette er XML (menyen nederst til høyre).
  - Bruk "auto indent" (hint: `ctrl-shift-p`)for å gjøre teksten lettere å lese.
  - Kan du tenke deg en annen måte å strukturere disse dataene på i XML?
    F.eks. helt uten bruk av attributter? Prøv å omstrukturere dokumentet.
  - Gå tilbake til nettleseren og prøv å endre `format=xml` til `format=json` i URL-en.
  - Kopier teksten over i Sublime Text igjen og bruk "auto indent".


# Oppgave: Jobbe med Markdown i Atom


<!--
# Ren tekst / plain text

## En enkel bibliografisk MARC-post

<pre>
001 993710000000291228
020    $a 1-4842-0076-4
020    $a 1-4842-0077-2
040    $a AU-PeEL $b eng $c AU-PeEL $d AU-PeEL
100 1  $a Chacon, Scott.
245 10 $a Pro Git $h [electronic resource].
246    $a The expert's voice
250    $a 2nd ed.
260    $a Berkeley : $b Apress, $c 2014.
</pre>

# Ren tekst / plain text

## … i CSV?

MARC-poster er vriene å konvertere til tabeller. Hvorfor?
Repeterende felt. Flerdimensjonale.

```csv
001,020,150
ost,kake,,s,

```

(merk: JSON-syntaksen definerer)

```json
{
    "001": "993710000000291228",
    "020": {
        "a": "1-4842-0076-4",
        "a": "1-4842-0077-2"
    },
    "author": "Chacon, Scott.",
    "title": "Pro Git",
    "???": "The expert's voice",
    "edition": "2nd ed.",
    "publisher": "Apress, ",
}
```

```json
{
    "id": "993710000000291228",
    "isbn": [
        "1-4842-0076-4",
        "1-4842-0077-2"
    ],
    "author": "Chacon, Scott.",
    "title": "Pro Git",
    "???": "The expert's voice",
    "edition": "2nd ed.",
    "publisher": "Apress, ",
    ""
}
```


- TODO: Vise et enkelt strukturert datasett i hhv. JSON, XML, CSV.. og MARC?

- Syntaks er ikke viktig... de samme dataene kan kodes på mange måter
- Syntaks er viktig... leser man ikke syntaksen leser man ikke dataene.. Syntaksfremheving hjelper
- Indentering og luft. Gjør fila mye lettere å lese, script bryr seg ikke. Fila tar større plass, men det bryr vi oss *vanligvis* ikke om.

class: center header-left

-->


---

# Vi ser på flere tekstfiler

1. HTML fra Vortex??
2. Klone et repo med GitHub Desktop?
3. http://data.stortinget.no/eksport

---

# Sublime Text

Punkter som bør dekkes:

- Åpne og hoppe mellom filer
  - Vise filtype-menyen. Sublime prøver å gjette filtype, men man kan overstyre

- Syntaksfremheving / Syntax highlighting

- Goto anything
 - cycle left/right between tabs

- Grunnleggende redigering
    - uppercase/lowercase/sortering av linjer/duplisering
    - klippe ut hele linja med ctrl-x uten å markere, ctrl-l for å velge linje
    - velge ord med shift/ctrl + piltaster
    - flytte linjer opp og ned
    - hoppe til begynnelsen/slutten av linja
    - kommentere html
    - hoppe til matchende parentes med ctrl-m
    - indentere
    - autofullføring i html.

  - distraction free mode, ⌃ + ⇧ + ⌘ + F

   - søk og erstatt

     Ref: http://docs.sublimetext.info/en/latest/reference/keyboard_shortcuts_win.html

- Flere innsettingspunkt (multiple carets)

- Pakkeinstallasjon

  LineEndings
  SideBarEnhancements
  Emmet

- Hopping mellom åpnings- og sluttagger i HTMl

- Wordwrap

- Stavekontroll

- Vintage mode..

- XML-folding (bytte til Atom)


# Oppgaver

Gjør om komma-separert liste med epostadresser til tabell?

    </textarea>
    <script src="https://gnab.github.io/remark/downloads/remark-latest.min.js"></script>
    <script src="assets/config_16_9.js"></script></script>
  </body>
</html>
